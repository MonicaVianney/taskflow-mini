<div class="task-list-container">
  <div class="header">
    <h1>Mis Tareas</h1>
    <div class="header-actions">
      <button class="btn-primary" (click)="createTask()">+ Nueva Tarea</button>
      <button class="btn-logout" (click)="logout()">Cerrar SesiÃ³n</button>
    </div>
  </div>

  @if (loading) {
    <div class="loading">Cargando tareas...</div>
  }

  @if (!loading && tasks.length === 0) {
    <div class="empty-state">
      <p>No tienes tareas aÃºn</p>
      <button class="btn-primary" (click)="createTask()">Crear primera tarea</button>
    </div>
  }

  @if (!loading && tasks.length > 0) {
    <div class="tasks-grid">
      @for (task of tasks; track task.id) {
        <div class="task-card" [class.completed]="task.completed">
          <div class="task-header">
            <input 
              type="checkbox" 
              [checked]="task.completed"
              (change)="toggleTask(task.id)"
            >
            <h3 [class.completed-text]="task.completed">{{ task.title }}</h3>
          </div>
          
          <p class="task-description">{{ task.description }}</p>
          
          <div class="task-actions">
            <button class="btn-edit" (click)="editTask(task.id)">Editar</button>
            <button class="btn-delete" (click)="deleteTask(task.id)">Eliminar</button>
          </div>
        </div>
      }
    </div>
  }
</div>
